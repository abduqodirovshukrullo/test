import{bc as E,k as m,o as f,c as L,p as o,w as r,z as C,b as O,a$ as P,A as b,q as i,b7 as g,bO as Q}from"./index.ff6dd18a.js";import{_ as j}from"./DataTable.8386c370.js";import{u as h}from"./categoryStore.45d93048.js";import{_ as G,a as H}from"./FormUpdate.888ea497.js";import{_ as J}from"./Confirmer.da69fa93.js";import{V as K,a as M}from"./VRow.6a3eb9e0.js";import{V as v}from"./VBtn.05c82630.js";import{V as k}from"./VChip.34758a01.js";import"./VDivider.709f44be.js";import"./axios.544a54a6.js";import"./validators.03da0656.js";import"./VSpacer.9cd97db6.js";import"./VForm.5de4a92d.js";import"./form.03636cd0.js";import"./VTextField.afb07e72.js";import"./index.f6fb5e9e.js";import"./VInput.31ae3301.js";import"./VTextarea.ff309825.js";import"./VSwitch.37089247.js";import"./VSelectionControl.82c875c1.js";import"./VSelect.cdb6d5f2.js";import"./VList.12bf040d.js";import"./dialog-transition.2a00a3c9.js";import"./VMenu.901c1049.js";import"./VCheckboxBtn.3329c02d.js";import"./VNavigationDrawer.64c65f66.js";import"./ssrBoot.051a63f0.js";import"./VDialog.ab1b1692.js";const xe={__name:"children",setup(W){const d=Q(),{categoryChildren:V,category:X,categoryChild:y,childrenLoading:_,error:Y,childrenPagination:U}=E(h()),{fetchCategoryChildren:n,addCategory:x,fetchCategory:c,fetchCategoryChild:z,updateCategory:$,deleteCategory:I}=h(),A={title:"Category Children",headers:["id","title_uz","title_ru","title_en","status","actions"],filter:{title_uz:{model:"title_uz",type:"text",value:"Query"},status:{model:"status",type:"select",value:["Active","Inactive"]}}},p=m(!1),u=m(!1),s=m(!1),F=m(null),l=m({filter:{parent_id:d.params.parent}});c(d.params.parent),n(l.value);const S=()=>{n(l.value)},B=()=>{I(F.value).then(e=>{s.value=!1,n(l.value)})},D=e=>{s.value=!0,F.value=e},R=e=>{p.value=e.isCreateFormOpened},w=e=>{z(e.categoryId).then(a=>{u.value=e.isUpdateFormOpened})},N=e=>{x(e).then(a=>{n(l.value),c(d.params.parent)})},T=e=>{$(y.value.id,e).then(a=>{n(l.value),c(d.params.parent)})};return(e,a)=>(f(),L("section",null,[o(j,{onPageChanged:S,body:{data:i(V).data,pagination:i(U)},loading:i(_),tableData:A},{pageActions:r(()=>[o(K,null,{default:r(()=>[o(M,{cols:"2",offset:"md-10"},{default:r(()=>[o(v,{"prepend-icon":"tabler-plus",onClick:a[0]||(a[0]=t=>R({isCreateFormOpened:!0}))},{default:r(()=>[C(" Create ")]),_:1})]),_:1})]),_:1})]),status:r(t=>[t.item.status===1?(f(),O(k,{key:0,color:"success"},{default:r(()=>[C(" Active ")]),_:1})):t.item.status===0?(f(),O(k,{key:1,color:"error"},{default:r(()=>[C(" Inactive ")]),_:1})):P("",!0)]),actions:r(t=>[o(v,{onClick:q=>w({isUpdateFormOpened:!0,categoryId:t.item.id}),icon:"",size:"x-small",color:"default",variant:"text"},{default:r(()=>[o(b,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),o(v,{icon:"",onClick:q=>D(t.item.id),size:"x-small",color:"default",variant:"text"},{default:r(()=>[o(b,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"])]),_:1},8,["body","loading"]),o(G,{onFormSubmitted:N,category:e.children,isCreateFormOpened:i(p),"onUpdate:isCreateFormOpened":a[1]||(a[1]=t=>g(p)?p.value=t:null)},null,8,["category","isCreateFormOpened"]),o(H,{onFormSubmitted:T,category:i(y),isUpdateFormOpened:i(u),"onUpdate:isUpdateFormOpened":a[2]||(a[2]=t=>g(u)?u.value=t:null)},null,8,["category","isUpdateFormOpened"]),o(J,{isOpen:i(s),"onUpdate:isOpen":a[3]||(a[3]=t=>g(s)?s.value=t:null),loading:i(_),onAccepted:B},null,8,["isOpen","loading"])]))}};export{xe as default};
