import{bP as R,k as _,aE as Q,o as O,b as S,w as t,m as T,p as e,A as P,q as u,b4 as N,b1 as $,bh as q,b7 as B,bj as M,a$ as j,z as x,aP as w,bH as A,bc as W}from"./index.ccf75e8b.js";import{r as i}from"./validators.03da0656.js";import{V as H}from"./VSpacer.3dae3a1a.js";import{V as G}from"./VBtn.51511430.js";import{V as I}from"./VForm.39e46bcf.js";import{V as m,a as d}from"./VRow.126a71fb.js";import{V}from"./VTextField.3149a27e.js";import{V as b}from"./VTextarea.8568297e.js";import{V as J}from"./VSwitch.655f8d6f.js";import{V as K}from"./VSelect.2279726f.js";import{V as L}from"./VNavigationDrawer.cd147b40.js";import{u as E}from"./categoryGroupStore.dcbe9eff.js";const X={class:"d-flex align-center pa-6 pb-1"},Y=T("h6",{class:"text-h6"}," Add Cetegory Group ",-1),me={__name:"FormCreate",props:{isCreateFormOpened:{default:null,required:!0},categoryGroup:{default:{id:null}}},emits:["update:isCreateFormOpened","formSubmitted"],setup(k,{emit:c}){const l=k;R(()=>{l.categoryGroup.id!==null&&(U.value=[{id:l.categoryGroup.id,title:l.categoryGroup.title_uz}],o.parent_id=l.categoryGroup.id)});const z=_(!1),y=_(null),o=Q({title_uz:null,title_ru:null,title_en:null,description_uz:null,description_ru:null,description_en:null,content_uz:null,content_ru:null,content_en:null,parent_id:null,status:1,order:null}),U=_([{id:l.categoryGroup.id,title:l.categoryGroup.title_uz}]);_({id:l.categoryGroup.id,title:l.categoryGroup.title_uz});const g=()=>{c("update:isCreateFormOpened",!1),w(()=>{f()})},f=()=>{var p,n;(p=y.value)==null||p.reset(),o.content_uz="",o.content_ru="",o.content_en="",(n=y.value)==null||n.resetValidation()},D=()=>{var p;(p=y.value)==null||p.validate().then(({valid:n})=>{n&&(c("formSubmitted",{title_uz:o.title_uz,title_ru:o.title_ru,title_en:o.title_en,description_uz:o.description_uz,description_ru:o.description_ru,description_en:o.description_en,content_uz:o.content_uz,content_ru:o.content_ru,content_en:o.content_en,parent_id:o.parent_id,status:o.status,order:o.order}),c("update:isCreateFormOpened",!1),w(()=>{f()}))})},F=p=>{c("update:isCreateFormOpened",p)};return(p,n)=>{const C=A;return O(),S(L,{permanent:"",width:1e3,location:"end",class:"scrollable-content","model-value":l.isCreateFormOpened,"onUpdate:modelValue":F},{default:t(()=>[T("div",X,[Y,e(H),e(G,{variant:"tonal",color:"error",icon:"",size:"32",class:"rounded",onClick:g},{default:t(()=>[e(P,{size:"18",icon:"tabler-x"})]),_:1})]),e(u(N),{options:{wheelPropagation:!1}},{default:t(()=>[e($,{flat:""},{default:t(()=>[e(q,null,{default:t(()=>[e(I,{ref_key:"refCategoryGroupCreateForm",ref:y,modelValue:u(z),"onUpdate:modelValue":n[12]||(n[12]=r=>B(z)?z.value=r:null),onSubmit:M(D,["prevent"])},{default:t(()=>[e(m,null,{default:t(()=>[e(d,{cols:"4"},{default:t(()=>[e(V,{modelValue:u(o).title_uz,"onUpdate:modelValue":n[0]||(n[0]=r=>u(o).title_uz=r),rules:[u(i)],label:"Title Uz"},null,8,["modelValue","rules"])]),_:1}),e(d,{cols:"4"},{default:t(()=>[e(V,{modelValue:u(o).title_ru,"onUpdate:modelValue":n[1]||(n[1]=r=>u(o).title_ru=r),rules:[u(i)],label:"Title Ru"},null,8,["modelValue","rules"])]),_:1}),e(d,{cols:"4"},{default:t(()=>[e(V,{modelValue:u(o).title_en,"onUpdate:modelValue":n[2]||(n[2]=r=>u(o).title_en=r),rules:[u(i)],label:"Title En"},null,8,["modelValue","rules"])]),_:1})]),_:1}),e(m,null,{default:t(()=>[e(d,{cols:"4"},{default:t(()=>[e(b,{modelValue:u(o).description_uz,"onUpdate:modelValue":n[3]||(n[3]=r=>u(o).description_uz=r),rules:[u(i)],label:"Description Uz"},null,8,["modelValue","rules"])]),_:1}),e(d,{cols:"4"},{default:t(()=>[e(b,{modelValue:u(o).description_ru,"onUpdate:modelValue":n[4]||(n[4]=r=>u(o).description_ru=r),rules:[u(i)],label:"Description Ru"},null,8,["modelValue","rules"])]),_:1}),e(d,{cols:"4"},{default:t(()=>[e(b,{modelValue:u(o).description_en,"onUpdate:modelValue":n[5]||(n[5]=r=>u(o).description_en=r),rules:[u(i)],label:"Description En"},null,8,["modelValue","rules"])]),_:1})]),_:1}),e(m,null,{default:t(()=>[e(d,{cols:"12"},{default:t(()=>[e(C,{label:"Content uz",modelValue:u(o).content_uz,"onUpdate:modelValue":n[6]||(n[6]=r=>u(o).content_uz=r)},null,8,["modelValue"])]),_:1}),e(d,{cols:"12"},{default:t(()=>[e(C,{label:"Content Ru",modelValue:u(o).content_ru,"onUpdate:modelValue":n[7]||(n[7]=r=>u(o).content_ru=r)},null,8,["modelValue"])]),_:1}),e(d,{cols:"12"},{default:t(()=>[e(C,{label:"Content En",modelValue:u(o).content_en,"onUpdate:modelValue":n[8]||(n[8]=r=>u(o).content_en=r)},null,8,["modelValue"])]),_:1})]),_:1}),e(m,{class:"mt-4"},{default:t(()=>[e(d,{cols:"6",md:"4"},{default:t(()=>[e(J,{modelValue:u(o).status,"onUpdate:modelValue":n[9]||(n[9]=r=>u(o).status=r),label:"Status",value:1,color:"primary"},null,8,["modelValue"])]),_:1}),e(d,{cols:"6",md:"4"},{default:t(()=>[e(V,{modelValue:u(o).order,"onUpdate:modelValue":n[10]||(n[10]=r=>u(o).order=r),rules:[u(i)],label:"Order"},null,8,["modelValue","rules"])]),_:1}),u(o).parent_id!==null?(O(),S(d,{key:0,cols:"6",md:"4"},{default:t(()=>[e(K,{modelValue:u(o).parent_id,"onUpdate:modelValue":n[11]||(n[11]=r=>u(o).parent_id=r),items:u(U),"item-title":"title","item-value":"id",label:"Parent",disabled:""},null,8,["modelValue","items"])]),_:1})):j("",!0)]),_:1}),e(m,null,{default:t(()=>[e(d,{cols:"12"},{default:t(()=>[e(G,{type:"submit",class:"me-3",color:"success"},{default:t(()=>[x(" Submit ")]),_:1}),e(G,{type:"reset",variant:"tonal",color:"error",onClick:g},{default:t(()=>[x(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},Z={class:"d-flex align-center pa-6 pb-1"},h=T("h6",{class:"text-h6"}," Update Cetegory Group ",-1),ce={__name:"FormUpdate",props:{isUpdateFormOpened:{default:null,required:!0},categoryGroup:{type:Object}},emits:["update:isUpdateFormOpened","formSubmitted"],setup(k,{emit:c}){const l=k;W(E());const{fetchCategoryGroups:z,fetchCategoryGroup:y}=E(),o=_([{id:null,title:null}]),U=_(null),g=_(!1),f=_(null),D=_({filter:{parent_id:null}}),F=()=>{c("update:isUpdateFormOpened",!1),w(()=>{p()})},p=()=>{var r,a;(r=f.value)==null||r.reset(),l.categoryGroup.content_uz="",l.categoryGroup.content_ru="",l.categoryGroup.content_en="",(a=f.value)==null||a.resetValidation()},n=()=>{var r;(r=f.value)==null||r.validate().then(({valid:a})=>{a&&(c("formSubmitted",{title_uz:l.categoryGroup.title_uz,title_ru:l.categoryGroup.title_ru,title_en:l.categoryGroup.title_en,description_uz:l.categoryGroup.description_uz,description_ru:l.categoryGroup.description_ru,description_en:l.categoryGroup.description_en,content_uz:l.categoryGroup.content_uz,content_ru:l.categoryGroup.content_ru,content_en:l.categoryGroup.content_en,parent_id:l.categoryGroup.parent_id,status:l.categoryGroup.status,order:l.categoryGroup.order}),c("update:isUpdateFormOpened",!1),w(()=>{p()}))})},C=r=>{c("update:isUpdateFormOpened",r)};return R(()=>{l.isUpdateFormOpened?l.categoryGroup.parent_id!==null&&(y(l.categoryGroup.parent_id).then(r=>{U.value=r.id}),z(D.value).then(r=>{r.data.result.data.forEach(a=>{let v={id:a.id,title:a.title_uz};o.value.push(v)})})):(o.value=[{id:null,title:null}],U.value={})}),(r,a)=>{const v=A;return O(),S(L,{permanent:"",width:1e3,location:"end",class:"scrollable-content","model-value":l.isUpdateFormOpened,"onUpdate:modelValue":C},{default:t(()=>[T("div",Z,[h,e(H),e(G,{variant:"tonal",color:"error",icon:"",size:"32",class:"rounded",onClick:F},{default:t(()=>[e(P,{size:"18",icon:"tabler-x"})]),_:1})]),e(u(N),{options:{wheelPropagation:!1}},{default:t(()=>[e($,{flat:""},{default:t(()=>[e(q,null,{default:t(()=>[e(I,{ref_key:"refCategoryGroupCreateForm",ref:f,modelValue:u(g),"onUpdate:modelValue":a[12]||(a[12]=s=>B(g)?g.value=s:null),onSubmit:M(n,["prevent"])},{default:t(()=>[e(m,null,{default:t(()=>[e(d,{cols:"4"},{default:t(()=>[e(V,{modelValue:l.categoryGroup.title_uz,"onUpdate:modelValue":a[0]||(a[0]=s=>l.categoryGroup.title_uz=s),rules:[u(i)],label:"Title Uz"},null,8,["modelValue","rules"])]),_:1}),e(d,{cols:"4"},{default:t(()=>[e(V,{modelValue:l.categoryGroup.title_ru,"onUpdate:modelValue":a[1]||(a[1]=s=>l.categoryGroup.title_ru=s),rules:[u(i)],label:"Title Ru"},null,8,["modelValue","rules"])]),_:1}),e(d,{cols:"4"},{default:t(()=>[e(V,{modelValue:l.categoryGroup.title_en,"onUpdate:modelValue":a[2]||(a[2]=s=>l.categoryGroup.title_en=s),rules:[u(i)],label:"Title En"},null,8,["modelValue","rules"])]),_:1})]),_:1}),e(m,null,{default:t(()=>[e(d,{cols:"4"},{default:t(()=>[e(b,{modelValue:l.categoryGroup.description_uz,"onUpdate:modelValue":a[3]||(a[3]=s=>l.categoryGroup.description_uz=s),rules:[u(i)],label:"Description Uz"},null,8,["modelValue","rules"])]),_:1}),e(d,{cols:"4"},{default:t(()=>[e(b,{modelValue:l.categoryGroup.description_ru,"onUpdate:modelValue":a[4]||(a[4]=s=>l.categoryGroup.description_ru=s),rules:[u(i)],label:"Description Ru"},null,8,["modelValue","rules"])]),_:1}),e(d,{cols:"4"},{default:t(()=>[e(b,{modelValue:l.categoryGroup.description_en,"onUpdate:modelValue":a[5]||(a[5]=s=>l.categoryGroup.description_en=s),rules:[u(i)],label:"Description En"},null,8,["modelValue","rules"])]),_:1})]),_:1}),e(m,null,{default:t(()=>[e(d,{cols:"12"},{default:t(()=>[e(v,{label:"Content uz",modelValue:l.categoryGroup.content_uz,"onUpdate:modelValue":a[6]||(a[6]=s=>l.categoryGroup.content_uz=s)},null,8,["modelValue"])]),_:1}),e(d,{cols:"12"},{default:t(()=>[e(v,{label:"Content Ru",modelValue:l.categoryGroup.content_ru,"onUpdate:modelValue":a[7]||(a[7]=s=>l.categoryGroup.content_ru=s)},null,8,["modelValue"])]),_:1}),e(d,{cols:"12"},{default:t(()=>[e(v,{label:"Content En",modelValue:l.categoryGroup.content_en,"onUpdate:modelValue":a[8]||(a[8]=s=>l.categoryGroup.content_en=s)},null,8,["modelValue"])]),_:1})]),_:1}),e(m,{class:"mt-4"},{default:t(()=>[e(d,{cols:"6",md:"4"},{default:t(()=>[e(J,{modelValue:l.categoryGroup.status,"onUpdate:modelValue":a[9]||(a[9]=s=>l.categoryGroup.status=s),label:"Status",value:1,color:"primary"},null,8,["modelValue"])]),_:1}),e(d,{cols:"6",md:"4"},{default:t(()=>[e(V,{modelValue:l.categoryGroup.order,"onUpdate:modelValue":a[10]||(a[10]=s=>l.categoryGroup.order=s),rules:[u(i)],label:"Order"},null,8,["modelValue","rules"])]),_:1}),l.categoryGroup.parent_id!==null?(O(),S(d,{key:0,cols:"6",md:"4"},{default:t(()=>[e(K,{modelValue:l.categoryGroup.parent_id,"onUpdate:modelValue":a[11]||(a[11]=s=>l.categoryGroup.parent_id=s),items:u(o),"item-title":"title","item-value":"id",label:"Parent"},null,8,["modelValue","items"])]),_:1})):j("",!0)]),_:1}),e(m,null,{default:t(()=>[e(d,{cols:"12"},{default:t(()=>[e(G,{type:"submit",class:"me-3",color:"success"},{default:t(()=>[x(" Submit ")]),_:1}),e(G,{type:"reset",variant:"tonal",color:"error",onClick:F},{default:t(()=>[x(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}};export{me as _,ce as a};
