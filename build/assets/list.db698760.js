import{bc as R,k as p,o as c,c as T,p as t,w as r,z as f,b as F,a$ as q,A as g,q as i,b7 as v}from"./main.28eac655.js";import{_ as E}from"./DataTable.c4077183.js";import{u as O}from"./categoryGroupStore.52abfd62.js";import{_ as Q,a as j}from"./FormUpdate.a96efede.js";import{_ as H}from"./Confirmer.1430bfc4.js";import{V as J,a as K}from"./VRow.f25df8b8.js";import{V as d}from"./VBtn.c12fdd64.js";import{V as b}from"./VChip.15e3c72f.js";import"./VDivider.4e5147ee.js";import"./axios.8204d459.js";import"./validators.03da0656.js";import"./VSpacer.24baf8c8.js";import"./VForm.faab6af8.js";import"./form.b198e9eb.js";import"./VTextField.b8935754.js";import"./index.0b83b8d8.js";import"./VInput.a1b5a69b.js";import"./VTextarea.31dfc8c3.js";import"./VSwitch.8f64b25b.js";import"./VSelectionControl.08ac7448.js";import"./VSelect.e2438bf0.js";import"./VList.2e46a22e.js";import"./dialog-transition.fc2767b3.js";import"./VMenu.cc85e129.js";import"./VCheckboxBtn.f5856159.js";import"./VNavigationDrawer.e49588b6.js";import"./ssrBoot.06a3cbcc.js";import"./VDialog.6706085a.js";const Ge={__name:"list",setup(L){const{categoryGroups:G,categoryGroup:C,loading:_,error:M,pagination:k}=R(O()),{fetchCategoryGroups:n,addCategoryGroup:x,fetchCategoryGroup:V,updateCategoryGroup:z,deleteCategoryGroup:U}=O(),$={title:"Category Group",headers:["id","title_uz","title_ru","title_en","status","actions"],filter:{title_uz:{model:"title_uz",type:"text",value:"Query"},status:{model:"status",type:"select",value:["Active","Inactive"]}}},m=p(!1),u=p(!1),s=p(!1),y=p(null),l=p({filter:{parent_id:null}});n(l.value);const I=()=>{n(l.value)},h=()=>{U(y.value).then(o=>{s.value=!1,n(l.value)})},A=o=>{s.value=!0,y.value=o},S=o=>{m.value=o.isCreateFormOpened},B=o=>{V(o.categoryGroupId).then(a=>{u.value=o.isUpdateFormOpened})},D=o=>{x(o).then(a=>{n(l.value)})},w=o=>{z(C.value.id,o).then(a=>{n(l.value)})};return(o,a)=>(c(),T("section",null,[t(E,{onPageChanged:I,body:{data:i(G).data,pagination:i(k)},loading:i(_),tableData:$},{pageActions:r(()=>[t(J,null,{default:r(()=>[t(K,{cols:"2",offset:"md-10"},{default:r(()=>[t(d,{"prepend-icon":"tabler-plus",onClick:a[0]||(a[0]=e=>S({isCreateFormOpened:!0}))},{default:r(()=>[f(" Create ")]),_:1})]),_:1})]),_:1})]),status:r(e=>[e.item.status===1?(c(),F(b,{key:0,color:"success"},{default:r(()=>[f(" Active ")]),_:1})):e.item.status===0?(c(),F(b,{key:1,color:"error"},{default:r(()=>[f(" Inactive ")]),_:1})):q("",!0)]),actions:r(e=>[t(d,{onClick:N=>B({isUpdateFormOpened:!0,categoryGroupId:e.item.id}),icon:"",size:"x-small",color:"default",variant:"text"},{default:r(()=>[t(g,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),t(d,{icon:"",onClick:N=>A(e.item.id),size:"x-small",color:"default",variant:"text"},{default:r(()=>[t(g,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"]),t(d,{icon:"",to:{name:"assessment-category-group-category-category-children",params:{category:e.item.id}},size:"x-small",color:"default",variant:"text"},{default:r(()=>[t(g,{size:"22",icon:"mdi-open-in-app"})]),_:2},1032,["to"])]),_:1},8,["body","loading"]),t(Q,{onFormSubmitted:D,isCreateFormOpened:i(m),"onUpdate:isCreateFormOpened":a[1]||(a[1]=e=>v(m)?m.value=e:null)},null,8,["isCreateFormOpened"]),t(j,{onFormSubmitted:w,categoryGroup:i(C),isUpdateFormOpened:i(u),"onUpdate:isUpdateFormOpened":a[2]||(a[2]=e=>v(u)?u.value=e:null)},null,8,["categoryGroup","isUpdateFormOpened"]),t(H,{isOpen:i(s),"onUpdate:isOpen":a[3]||(a[3]=e=>v(s)?s.value=e:null),loading:i(_),onAccepted:h},null,8,["isOpen","loading"])]))}};export{Ge as default};
