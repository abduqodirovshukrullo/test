import{bc as f,k as m,D as h,o as C,c as T,p as e,w as t,m as s,A as k,q as N,b4 as P,b1 as A,bh as B,z as n,x as l,bj as U,aP as b}from"./index.ccf75e8b.js";import{u as x}from"./coreInspectorInfos.343b3646.js";import{u as j}from"./clientEnrolStore.ce34f8ca.js";import{u as V}from"./systemUserStore.da0c3aeb.js";import{V as z}from"./VSpacer.3dae3a1a.js";import{V as D}from"./VBtn.51511430.js";import{V as F,a as i,b as r}from"./VList.195d91c9.js";import{V as L}from"./VDivider.82c53423.js";import{V as q}from"./VForm.39e46bcf.js";import{V as M,a as R}from"./VRow.126a71fb.js";import{V as $}from"./VNavigationDrawer.cd147b40.js";const G={class:"d-flex align-center pa-6 pb-1"},H=s("h6",{class:"text-h6"}," Info details ",-1),J={class:"text-base font-weight-semibold"},K={class:"text-body-2"},Q={class:"text-base font-weight-semibold"},W={class:"text-body-2"},X={class:"text-base font-weight-semibold"},Y={class:"text-body-2"},Z={class:"text-base font-weight-semibold"},ee={class:"text-body-2"},te=s("h6",{class:"text-base font-weight-semibold"}," Text: ",-1),se={class:"text-body-2"},ae={class:"text-base font-weight-semibold"},le={class:"text-body-2"},oe=s("h6",{class:"text-base font-weight-semibold"}," Inspection name: ",-1),ne={class:"text-base font-weight-semibold"},ie={class:"text-body-2"},re={class:"text-base font-weight-semibold"},de={class:"text-body-2"},we={__name:"AppealEnrolInfo",props:{isInfoDrawerOpened:{default:null,required:!0},appealEnrolDetails:{type:Object},coreInspections:{type:Object}},emits:["update:isInfoDrawerOpened","fetchEnrols","formSubmitted"],setup(w,{emit:p}){const a=w;x();const{updateAppealInspector:I}=j(),{coreInfos:E}=f(x()),{fetchUsers:v}=V();f(V());const d=m(a.appealEnrolDetails.inspection_id),u=m(null),g=()=>{p("update:isInfoDrawerOpened",!1),b(()=>{_()})},y=()=>{let o={inspection_id:d.value,inspector_id:u.value};I(a.appealEnrolDetails.id,o).then(c=>{c.data.success&&(p("fetchEnrols"),p("update:isInfoDrawerOpened",!1),b(()=>{_()}))})},S=o=>{p("update:isInfoDrawerOpened",o)},_=()=>{d.value=null,u.value=null,E.value=[]},O=()=>{let o={filter:{inspection_id:d.value}};return v(o)};return h(d,async(o,c)=>{u.value=null,O()}),h(()=>a.appealEnrolDetails,(o,c)=>{d.value=o.inspection_id}),(o,c)=>(C(),T("div",null,[e($,{permanent:"",width:500,location:"end",class:"scrollable-content","model-value":a.isInfoDrawerOpened,"onUpdate:modelValue":S},{default:t(()=>[s("div",G,[H,e(z),e(D,{variant:"tonal",color:"error",icon:"",size:"32",class:"rounded",onClick:g},{default:t(()=>[e(k,{size:"18",icon:"tabler-x"})]),_:1})]),e(N(P),{options:{wheelPropagation:!1}},{default:t(()=>[e(A,{flat:""},{default:t(()=>[e(B,null,{default:t(()=>[e(F,null,{default:t(()=>[e(i,null,{default:t(()=>[e(r,null,{default:t(()=>[s("h6",J,[n(" id: "),s("span",K,l(a.appealEnrolDetails.id),1)])]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(r,null,{default:t(()=>[s("h6",Q,[n(" Full name: "),s("span",W,l(a.appealEnrolDetails.full_name),1)])]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(r,null,{default:t(()=>[s("h6",X,[n(" Passport: "),s("span",Y,l(a.appealEnrolDetails.passport_serial),1)])]),_:1}),n(" "+l(),1)]),_:1}),e(i,null,{default:t(()=>[e(r,null,{default:t(()=>[s("h6",Z,[n(" Address: "),s("span",ee,l(a.appealEnrolDetails.address),1)])]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(r,null,{default:t(()=>[te]),_:1}),s("p",null,[s("span",se,l(a.appealEnrolDetails.appeal_text),1)])]),_:1}),e(i,null,{default:t(()=>[e(r,null,{default:t(()=>[s("h6",ae,[n(" Problem: "),s("span",le,l(a.appealEnrolDetails.problem_name),1)])]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(r,null,{default:t(()=>[oe]),_:1}),s("p",null,l(a.appealEnrolDetails.inspection_name),1)]),_:1}),e(i,null,{default:t(()=>[e(r,null,{default:t(()=>[s("h6",ne,[n(" Time: "),s("span",ie,l(a.appealEnrolDetails.planned_date+" "+a.appealEnrolDetails.planned_time),1)])]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(r,null,{default:t(()=>[s("h6",re,[n(" Status: "),s("span",de,l(a.appealEnrolDetails.status),1)])]),_:1})]),_:1})]),_:1}),e(L),e(q,{class:"mt-4",onSubmit:U(y,["prevent"])},{default:t(()=>[e(M,null,{default:t(()=>[e(R,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(D,{type:"submit"},{default:t(()=>[n(" Submit ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])]))}};export{we as _};
