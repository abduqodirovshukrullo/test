import{bc as d,k as m,o as u,c as M,p as a,w as o,z as f,m as h,x as V,b as k,a$ as P,A as x,q as n,b7 as I}from"./index.68ab1696.js";import{_ as W}from"./DataTable.529efa2b.js";import{u as z}from"./coreInspectionInfos.8c74ba9a.js";import{u as U,a as y}from"./cities.d706c30c.js";import{_ as X,a as Y}from"./FormUpdate.c7f274d0.js";import{_ as Z}from"./Confirmer.a21947e5.js";import{V as ee,a as te}from"./VRow.b4ec55e0.js";import{V as C}from"./VBtn.e44a7ff0.js";import{V as R}from"./VChip.685dc12f.js";import"./VDivider.db684b17.js";import"./axios.3a2e37fd.js";import"./VSelect.c51546ad.js";import"./VTextField.2a6d4579.js";import"./index.58b926c8.js";import"./VInput.373f1fc9.js";import"./form.2a7f55dd.js";import"./VList.b0e7618d.js";import"./dialog-transition.1e949d43.js";import"./VMenu.e6aa9dee.js";import"./VCheckboxBtn.f5ed4841.js";import"./VSelectionControl.703dbd90.js";import"./validators.03da0656.js";import"./VSpacer.b67c60b4.js";import"./VForm.12cad806.js";import"./VSwitch.66e25904.js";import"./VNavigationDrawer.d21b7d26.js";import"./ssrBoot.786f9135.js";import"./VDialog.d10e315b.js";const $e={__name:"list",setup(oe){const{coreInsInfos:S,coreInsInfo:g,loading:v,error:ne,pagination:$}=d(z()),{fetchCoreInsInfos:r,addCoreInsInfo:A,fetchCoreInsInfo:B,updateCoreInsInfo:D,deleteCoreInsInfo:N}=z(),{regions:_}=d(U()),{fetchRegions:w}=U(),{cities:F}=d(y()),{fetchCities:T}=y(),q={title:"Core Inspection Infos",headers:["id","name_uz","region_name","city_name","phone","status","actions"],filter:{title_uz:{model:"title_uz",type:"text",value:"Query"},status:{model:"status",type:"select",value:["Active","Inactive"]}}},p=m(!1),c=m(!1),l=m(!1),O=m(null),s=m({filter:{}});r(s.value),w();const E=()=>{r(s.value)},Q=()=>{N(O.value).then(t=>{l.value=!1,r(s.value)})},j=t=>{l.value=!0,O.value=t},G=t=>{p.value=t.isCreateFormOpened},H=t=>{B(t.coreInsInfoId).then(i=>{c.value=t.isUpdateFormOpened})},J=t=>{A(t).then(i=>{r(s.value)})},K=t=>{D(g.value.id,t).then(i=>{r(s.value)})},b=t=>{s.value.filter.region_soato_id=t,T(s.value)};return(t,i)=>(u(),M("section",null,[a(W,{onPageChanged:E,body:{data:n(S).data,pagination:n($)},loading:n(v),tableData:q},{pageActions:o(()=>[a(ee,null,{default:o(()=>[a(te,{cols:"2",offset:"md-10"},{default:o(()=>[a(C,{"prepend-icon":"tabler-plus",onClick:i[0]||(i[0]=e=>G({isCreateFormOpened:!0}))},{default:o(()=>[f(" Create ")]),_:1})]),_:1})]),_:1})]),name_uz:o(e=>[h("p",null,V(e.item.info.name_uz),1)]),phone:o(e=>[h("p",null,V(e.item.info.phone),1)]),status:o(e=>[e.item.status===1?(u(),k(R,{key:0,color:"success"},{default:o(()=>[f(" Active ")]),_:1})):e.item.info.status===0?(u(),k(R,{key:1,color:"error"},{default:o(()=>[f(" Inactive ")]),_:1})):P("",!0)]),actions:o(e=>[a(C,{onClick:L=>H({isUpdateFormOpened:!0,coreInsInfoId:e.item.id}),icon:"",size:"x-small",color:"default",variant:"text"},{default:o(()=>[a(x,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),a(C,{icon:"",onClick:L=>j(e.item.id),size:"x-small",color:"default",variant:"text"},{default:o(()=>[a(x,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"])]),_:1},8,["body","loading"]),a(X,{onFormSubmitted:J,onChangeRegion:b,regions:n(_),cities:n(F),isCreateFormOpened:n(p),"onUpdate:isCreateFormOpened":i[1]||(i[1]=e=>I(p)?p.value=e:null)},null,8,["regions","cities","isCreateFormOpened"]),a(Y,{onFormSubmitted:K,coreInfo:n(g),onChangeRegion:b,regions:n(_),cities:n(F),isUpdateFormOpened:n(c),"onUpdate:isUpdateFormOpened":i[2]||(i[2]=e=>I(c)?c.value=e:null)},null,8,["coreInfo","regions","cities","isUpdateFormOpened"]),a(Z,{isOpen:n(l),"onUpdate:isOpen":i[3]||(i[3]=e=>I(l)?l.value=e:null),loading:n(v),onAccepted:Q},null,8,["isOpen","loading"])]))}};export{$e as default};
